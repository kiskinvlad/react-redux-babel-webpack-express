{"version":3,"sources":["C:/Users/kiskin-laptop/WebstormProjects/react-redux-babel-webpack-express/app\\src\\actions\\objectsActions.jsx"],"names":["fetchObjects","incrementValue","actionsUtils","FETCH_OBJECTS_REQUEST","FETCH_OBJECTS_SUCCESS","FETCH_OBJECTS_FAILURE","INCREMENT_VALUE","ROOT_URL","location","href","indexOf","request","method","url","headers","dispatch","requestAction","then","res","status","successAction","data","Error","catch","errMsg","error","message","failureAction","val"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAuBgBA,Y,CAAAA,Y;;;;;;;;;;;;;;;;;;;;;;AAsBAC,c,CAAAA,c,CA7ChB,4B,2CAEA,yCACA,4C,GAAYC,a,qWAEL,GAAMC,qDAAwB,qCAA9B,CACA,GAAMC,qDAAwB,qCAA9B,CACA,GAAMC,qDAAwB,qCAA9B,CAEA,GAAMC,yCAAkB,iBAAxB,CAYP,GAAMC,UAAWC,SAASC,IAAT,CAAcC,OAAd,CAAsB,WAAtB,EAAqC,CAArC,CAAyC,2BAAzC,CAAuE,MAAxF,CAEO,QAASV,aAAT,EAAwB,CAC7B,GAAMW,SAAU,oBAAM,CACpBC,OAAQ,KADY,CAEpBC,IAAQN,QAAR,WAFoB,CAGpBO,QAAS,EAHW,CAAN,CAAhB,CAMA,MAAM,UAACC,QAAD,CAAc,CAClBA,SAASb,aAAac,aAAb,CAA2Bb,qBAA3B,CAAT,EACA,MAAOQ,SACFM,IADE,CACG,aAAO,CACX,GAAIC,IAAIC,MAAJ,GAAe,GAAnB,CAAwB,CACtB,MAAOJ,UAASb,aAAakB,aAAb,CAA2BhB,qBAA3B,CAAkD,SAAc,EAAd,CAAiBc,IAAIG,IAArB,CAAlD,CAAT,CAAP,CACD,CACD,KAAM,IAAIC,MAAJ,CAAU,8DAAV,CAAN,CACD,CANE,EAOFC,KAPE,CAOI,eAAS,CACd,GAAMC,QAASC,MAAMC,OAAN,CAAgBD,MAAMC,OAAtB,CAAgCD,MAAMJ,IAArD,CACA,MAAON,UAASb,aAAayB,aAAb,CAA2BvB,qBAA3B,CAAkD,CAACqB,MAAOD,MAAR,CAAlD,CAAT,CAAP,CACD,CAVE,CAAP,CAWD,CAbD,CAcD,CACM,QAASvB,eAAT,CAAwB2B,GAAxB,CAA4B;AACjC,MAAM,UAACb,QAAD,CAAc;AAClBA,SAASb,aAAac,aAAb,CAA2BV,eAA3B,CAA4CsB,GAA5C,CAAT;AACD,CAFD;AAGD,C","sourcesContent":["import axios from 'axios';\r\n\r\nimport {ACTION_REQUEST, ACTION_SUCCESS, ACTION_FAILURE} from '../constants/index';\r\nimport * as actionsUtils from './actionsUtils';\r\n\r\nexport const FETCH_OBJECTS_REQUEST = 'FETCH_OBJECTS' + ACTION_REQUEST;\r\nexport const FETCH_OBJECTS_SUCCESS = 'FETCH_OBJECTS' + ACTION_SUCCESS;\r\nexport const FETCH_OBJECTS_FAILURE = 'FETCH_OBJECTS' + ACTION_FAILURE;\r\n\r\nexport const INCREMENT_VALUE = 'INCREMENT_VALUE';\r\n\r\n// Note this can be extracted out later\r\n/**\r\n * Utility function to make AJAX requests using isomorphic fetch.\r\n * You can also use jquery's $.ajax({}) if you do not want to use the\r\n * /fetch API.\r\n * @param method Object Data you wish to pass to the server\r\n * @param data String HTTP method, e.g. post, get, put, delete\r\n * @param id String id\r\n * @return Promise\r\n */\r\nconst ROOT_URL = location.href.indexOf('localhost') > 0 ? 'http://localhost:3000/api' : '/api';\r\n\r\nexport function fetchObjects() {\r\n  const request = axios({\r\n    method: 'get',\r\n    url: `${ROOT_URL}/objects`,\r\n    headers: []\r\n  });\r\n\r\n  return(dispatch) => {\r\n    dispatch(actionsUtils.requestAction(FETCH_OBJECTS_REQUEST));\r\n    return request\r\n        .then(res => {\r\n          if (res.status === 200) {\r\n            return dispatch(actionsUtils.successAction(FETCH_OBJECTS_SUCCESS, Object.assign({},res.data)));\r\n          }\r\n          throw new Error('Oops! Something went wrong and we couldnt fetch your objects');\r\n        })\r\n        .catch(error => {\r\n          const errMsg = error.message ? error.message : error.data;\r\n          return dispatch(actionsUtils.failureAction(FETCH_OBJECTS_SUCCESS, {error: errMsg}));\r\n        });\r\n  };\r\n}\r\nexport function incrementValue(val){\r\n  return(dispatch) => {\r\n    dispatch(actionsUtils.requestAction(INCREMENT_VALUE, val));\r\n  }\r\n}\r\n\r\n"]}